<div id="gym-container"></div>
<script type="text/javascript" src="https://momentjs.com/downloads/moment.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.13.0/d3.min.js"></script>
<link rel="stylesheet" type="text/css" href="{{ base_path }}/assets/css/calendar-heatmap.css">
<script type="text/javascript" src="{{ base_path }}/assets/js/calendar-heatmap.js"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.8.0.js"></script>
<!-- load from dropbox -->
<script type="text/javascript" >

  $.get('http://s1.natapp.cc:37373/test.csv',function(data,status){
    console.log(data)

    chartData = []

    lines = data.split('\n');
    for (var i = lines.length - 1; i >= 0; i--) {
      dt = lines[i].split(',')
      chartData.push({date:new Date(dt[1]),count:Number(dt[0])})
    }

    // var chartData = [
    // {
    //   date: new Date("2018-04-01"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-02"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-03"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-04"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-05"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-06"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-07"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-08"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-09"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-10"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-11"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-12"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-13"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-14"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-15"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-16"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-17"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-18"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-19"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-20"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-21"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-22"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-23"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-24"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-25"),
    //   count: 0
    // },
    // {
    //   date: new Date("2018-04-26"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-27"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-28"),
    //   count: 1
    // },
    //   {
    //   date: new Date("2018-04-29"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-04-30"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-05-01"),
    //   count: 0
    // },
    //   {
    //   date: new Date("2018-05-02"),
    //   count: 1
    // },
    // {
    //   date: new Date("2018-05-03"),
    //   count: 1
    // },
    //   {
    //   date: new Date("2018-10-27"),
    //   count: 1
    // },
    //   {
    //   date: new Date("2018-10-29"),
    //   count: 1
    // },
    //   {
    //   date: new Date("2018-10-31"),
    //   count: 1
    // }
    // ];
    var chart1 = calendarHeatmap()
                  .data(chartData)
                  .selector('#gym-container')
                  .colorRange(['#D8E6E7', '#218380'])
                  .tooltipEnabled(true)
                  .tooltipUnit('Go To GYM')
                  .onClick(function (data) {
                    console.log('onClick callback. Data:', data);
                  });
chart1();  // render the chart
  });



</script>
